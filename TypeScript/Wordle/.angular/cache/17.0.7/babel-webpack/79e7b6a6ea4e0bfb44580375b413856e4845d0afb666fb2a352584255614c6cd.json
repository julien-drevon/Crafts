{"ast":null,"code":"import '../utils/click/isClickableInput.js';\nimport '../utils/dataTransfer/Clipboard.js';\nimport '../utils/edit/isEditable.js';\nimport '../utils/edit/maxLength.js';\nimport '@testing-library/dom/dist/helpers.js';\nimport { readNextDescriptor } from '../utils/keyDef/readNextDescriptor.js';\nimport '../utils/misc/level.js';\nimport '../options.js';\n\n/**\n * Parse key defintions per `keyboardMap`\n *\n * Keys can be referenced by `{key}` or `{special}` as well as physical locations per `[code]`.\n * Everything else will be interpreted as a typed character - e.g. `a`.\n * Brackets `{` and `[` can be escaped by doubling - e.g. `foo[[bar` translates to `foo[bar`.\n * Keeping the key pressed can be written as `{key>}`.\n * When keeping the key pressed you can choose how long (how many keydown and keypress) the key is pressed `{key>3}`.\n * You can then release the key per `{key>3/}` or keep it pressed and continue with the next key.\n */\nfunction parseKeyDef(keyboardMap, text) {\n  const defs = [];\n  do {\n    const {\n      type,\n      descriptor,\n      consumedLength,\n      releasePrevious,\n      releaseSelf = true,\n      repeat\n    } = readNextDescriptor(text, 'keyboard');\n    var _keyboardMap_find;\n    const keyDef = (_keyboardMap_find = keyboardMap.find(def => {\n      if (type === '[') {\n        var _def_code;\n        return ((_def_code = def.code) === null || _def_code === void 0 ? void 0 : _def_code.toLowerCase()) === descriptor.toLowerCase();\n      } else if (type === '{') {\n        var _def_key;\n        return ((_def_key = def.key) === null || _def_key === void 0 ? void 0 : _def_key.toLowerCase()) === descriptor.toLowerCase();\n      }\n      return def.key === descriptor;\n    })) !== null && _keyboardMap_find !== void 0 ? _keyboardMap_find : {\n      key: 'Unknown',\n      code: 'Unknown',\n      [type === '[' ? 'code' : 'key']: descriptor\n    };\n    defs.push({\n      keyDef,\n      releasePrevious,\n      releaseSelf,\n      repeat\n    });\n    text = text.slice(consumedLength);\n  } while (text);\n  return defs;\n}\nexport { parseKeyDef };","map":{"version":3,"names":["readNextDescriptor","parseKeyDef","keyboardMap","text","defs","type","descriptor","consumedLength","releasePrevious","releaseSelf","repeat","_keyboardMap_find","keyDef","find","def","_def_code","code","toLowerCase","_def_key","key","push","slice"],"sources":["C:/Users/drevo/Documents/GitHub/Crafts/TypeScript/Wordle/node_modules/@testing-library/user-event/dist/esm/keyboard/parseKeyDef.js"],"sourcesContent":["import '../utils/click/isClickableInput.js';\nimport '../utils/dataTransfer/Clipboard.js';\nimport '../utils/edit/isEditable.js';\nimport '../utils/edit/maxLength.js';\nimport '@testing-library/dom/dist/helpers.js';\nimport { readNextDescriptor } from '../utils/keyDef/readNextDescriptor.js';\nimport '../utils/misc/level.js';\nimport '../options.js';\n\n/**\n * Parse key defintions per `keyboardMap`\n *\n * Keys can be referenced by `{key}` or `{special}` as well as physical locations per `[code]`.\n * Everything else will be interpreted as a typed character - e.g. `a`.\n * Brackets `{` and `[` can be escaped by doubling - e.g. `foo[[bar` translates to `foo[bar`.\n * Keeping the key pressed can be written as `{key>}`.\n * When keeping the key pressed you can choose how long (how many keydown and keypress) the key is pressed `{key>3}`.\n * You can then release the key per `{key>3/}` or keep it pressed and continue with the next key.\n */ function parseKeyDef(keyboardMap, text) {\n    const defs = [];\n    do {\n        const { type, descriptor, consumedLength, releasePrevious, releaseSelf = true, repeat } = readNextDescriptor(text, 'keyboard');\n        var _keyboardMap_find;\n        const keyDef = (_keyboardMap_find = keyboardMap.find((def)=>{\n            if (type === '[') {\n                var _def_code;\n                return ((_def_code = def.code) === null || _def_code === void 0 ? void 0 : _def_code.toLowerCase()) === descriptor.toLowerCase();\n            } else if (type === '{') {\n                var _def_key;\n                return ((_def_key = def.key) === null || _def_key === void 0 ? void 0 : _def_key.toLowerCase()) === descriptor.toLowerCase();\n            }\n            return def.key === descriptor;\n        })) !== null && _keyboardMap_find !== void 0 ? _keyboardMap_find : {\n            key: 'Unknown',\n            code: 'Unknown',\n            [type === '[' ? 'code' : 'key']: descriptor\n        };\n        defs.push({\n            keyDef,\n            releasePrevious,\n            releaseSelf,\n            repeat\n        });\n        text = text.slice(consumedLength);\n    }while (text)\n    return defs;\n}\n\nexport { parseKeyDef };\n"],"mappings":"AAAA,OAAO,oCAAoC;AAC3C,OAAO,oCAAoC;AAC3C,OAAO,6BAA6B;AACpC,OAAO,4BAA4B;AACnC,OAAO,sCAAsC;AAC7C,SAASA,kBAAkB,QAAQ,uCAAuC;AAC1E,OAAO,wBAAwB;AAC/B,OAAO,eAAe;;AAEtB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAI,SAASC,WAAWA,CAACC,WAAW,EAAEC,IAAI,EAAE;EACxC,MAAMC,IAAI,GAAG,EAAE;EACf,GAAG;IACC,MAAM;MAAEC,IAAI;MAAEC,UAAU;MAAEC,cAAc;MAAEC,eAAe;MAAEC,WAAW,GAAG,IAAI;MAAEC;IAAO,CAAC,GAAGV,kBAAkB,CAACG,IAAI,EAAE,UAAU,CAAC;IAC9H,IAAIQ,iBAAiB;IACrB,MAAMC,MAAM,GAAG,CAACD,iBAAiB,GAAGT,WAAW,CAACW,IAAI,CAAEC,GAAG,IAAG;MACxD,IAAIT,IAAI,KAAK,GAAG,EAAE;QACd,IAAIU,SAAS;QACb,OAAO,CAAC,CAACA,SAAS,GAAGD,GAAG,CAACE,IAAI,MAAM,IAAI,IAAID,SAAS,KAAK,KAAK,CAAC,GAAG,KAAK,CAAC,GAAGA,SAAS,CAACE,WAAW,CAAC,CAAC,MAAMX,UAAU,CAACW,WAAW,CAAC,CAAC;MACpI,CAAC,MAAM,IAAIZ,IAAI,KAAK,GAAG,EAAE;QACrB,IAAIa,QAAQ;QACZ,OAAO,CAAC,CAACA,QAAQ,GAAGJ,GAAG,CAACK,GAAG,MAAM,IAAI,IAAID,QAAQ,KAAK,KAAK,CAAC,GAAG,KAAK,CAAC,GAAGA,QAAQ,CAACD,WAAW,CAAC,CAAC,MAAMX,UAAU,CAACW,WAAW,CAAC,CAAC;MAChI;MACA,OAAOH,GAAG,CAACK,GAAG,KAAKb,UAAU;IACjC,CAAC,CAAC,MAAM,IAAI,IAAIK,iBAAiB,KAAK,KAAK,CAAC,GAAGA,iBAAiB,GAAG;MAC/DQ,GAAG,EAAE,SAAS;MACdH,IAAI,EAAE,SAAS;MACf,CAACX,IAAI,KAAK,GAAG,GAAG,MAAM,GAAG,KAAK,GAAGC;IACrC,CAAC;IACDF,IAAI,CAACgB,IAAI,CAAC;MACNR,MAAM;MACNJ,eAAe;MACfC,WAAW;MACXC;IACJ,CAAC,CAAC;IACFP,IAAI,GAAGA,IAAI,CAACkB,KAAK,CAACd,cAAc,CAAC;EACrC,CAAC,QAAOJ,IAAI;EACZ,OAAOC,IAAI;AACf;AAEA,SAASH,WAAW"},"metadata":{},"sourceType":"module","externalDependencies":[]}