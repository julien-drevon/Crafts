{"ast":null,"code":"// It is not possible to create a real FileList programmatically.\n// Therefore assigning `files` property with a programmatically created FileList results in an error.\n// Just assigning the property (as per fireEvent) breaks the interweaving with the `value` property.\nconst fakeFiles = Symbol('files and value properties are mocked');\nfunction restoreProperty(obj, prop, descriptor) {\n  if (descriptor) {\n    Object.defineProperty(obj, prop, descriptor);\n  } else {\n    // eslint-disable-next-line @typescript-eslint/no-dynamic-delete\n    delete obj[prop];\n  }\n}\nfunction setFiles(el, files) {\n  var _el_fakeFiles;\n  (_el_fakeFiles = el[fakeFiles]) === null || _el_fakeFiles === void 0 ? void 0 : _el_fakeFiles.restore();\n  const typeDescr = Object.getOwnPropertyDescriptor(el, 'type');\n  const valueDescr = Object.getOwnPropertyDescriptor(el, 'value');\n  const filesDescr = Object.getOwnPropertyDescriptor(el, 'files');\n  function restore() {\n    restoreProperty(el, 'type', typeDescr);\n    restoreProperty(el, 'value', valueDescr);\n    restoreProperty(el, 'files', filesDescr);\n  }\n  el[fakeFiles] = {\n    restore\n  };\n  Object.defineProperties(el, {\n    files: {\n      configurable: true,\n      get: () => files\n    },\n    value: {\n      configurable: true,\n      get: () => files.length ? `C:\\\\fakepath\\\\${files[0].name}` : '',\n      set(v) {\n        if (v === '') {\n          restore();\n        } else {\n          var _valueDescr_set;\n          valueDescr === null || valueDescr === void 0 ? void 0 : (_valueDescr_set = valueDescr.set) === null || _valueDescr_set === void 0 ? void 0 : _valueDescr_set.call(el, v);\n        }\n      }\n    },\n    type: {\n      configurable: true,\n      get: () => 'file',\n      set(v) {\n        if (v !== 'file') {\n          restore();\n          el.type = v;\n        }\n      }\n    }\n  });\n}\nexport { setFiles };","map":{"version":3,"names":["fakeFiles","Symbol","restoreProperty","obj","prop","descriptor","Object","defineProperty","setFiles","el","files","_el_fakeFiles","restore","typeDescr","getOwnPropertyDescriptor","valueDescr","filesDescr","defineProperties","configurable","get","value","length","name","set","v","_valueDescr_set","call","type"],"sources":["C:/Users/drevo/Documents/GitHub/Crafts/TypeScript/Storybook/node_modules/@testing-library/user-event/dist/esm/utils/edit/setFiles.js"],"sourcesContent":["// It is not possible to create a real FileList programmatically.\n// Therefore assigning `files` property with a programmatically created FileList results in an error.\n// Just assigning the property (as per fireEvent) breaks the interweaving with the `value` property.\nconst fakeFiles = Symbol('files and value properties are mocked');\nfunction restoreProperty(obj, prop, descriptor) {\n    if (descriptor) {\n        Object.defineProperty(obj, prop, descriptor);\n    } else {\n        // eslint-disable-next-line @typescript-eslint/no-dynamic-delete\n        delete obj[prop];\n    }\n}\nfunction setFiles(el, files) {\n    var _el_fakeFiles;\n    (_el_fakeFiles = el[fakeFiles]) === null || _el_fakeFiles === void 0 ? void 0 : _el_fakeFiles.restore();\n    const typeDescr = Object.getOwnPropertyDescriptor(el, 'type');\n    const valueDescr = Object.getOwnPropertyDescriptor(el, 'value');\n    const filesDescr = Object.getOwnPropertyDescriptor(el, 'files');\n    function restore() {\n        restoreProperty(el, 'type', typeDescr);\n        restoreProperty(el, 'value', valueDescr);\n        restoreProperty(el, 'files', filesDescr);\n    }\n    el[fakeFiles] = {\n        restore\n    };\n    Object.defineProperties(el, {\n        files: {\n            configurable: true,\n            get: ()=>files\n        },\n        value: {\n            configurable: true,\n            get: ()=>files.length ? `C:\\\\fakepath\\\\${files[0].name}` : '',\n            set (v) {\n                if (v === '') {\n                    restore();\n                } else {\n                    var _valueDescr_set;\n                    valueDescr === null || valueDescr === void 0 ? void 0 : (_valueDescr_set = valueDescr.set) === null || _valueDescr_set === void 0 ? void 0 : _valueDescr_set.call(el, v);\n                }\n            }\n        },\n        type: {\n            configurable: true,\n            get: ()=>'file',\n            set (v) {\n                if (v !== 'file') {\n                    restore();\n                    el.type = v;\n                }\n            }\n        }\n    });\n}\n\nexport { setFiles };\n"],"mappings":"AAAA;AACA;AACA;AACA,MAAMA,SAAS,GAAGC,MAAM,CAAC,uCAAuC,CAAC;AACjE,SAASC,eAAeA,CAACC,GAAG,EAAEC,IAAI,EAAEC,UAAU,EAAE;EAC5C,IAAIA,UAAU,EAAE;IACZC,MAAM,CAACC,cAAc,CAACJ,GAAG,EAAEC,IAAI,EAAEC,UAAU,CAAC;EAChD,CAAC,MAAM;IACH;IACA,OAAOF,GAAG,CAACC,IAAI,CAAC;EACpB;AACJ;AACA,SAASI,QAAQA,CAACC,EAAE,EAAEC,KAAK,EAAE;EACzB,IAAIC,aAAa;EACjB,CAACA,aAAa,GAAGF,EAAE,CAACT,SAAS,CAAC,MAAM,IAAI,IAAIW,aAAa,KAAK,KAAK,CAAC,GAAG,KAAK,CAAC,GAAGA,aAAa,CAACC,OAAO,CAAC,CAAC;EACvG,MAAMC,SAAS,GAAGP,MAAM,CAACQ,wBAAwB,CAACL,EAAE,EAAE,MAAM,CAAC;EAC7D,MAAMM,UAAU,GAAGT,MAAM,CAACQ,wBAAwB,CAACL,EAAE,EAAE,OAAO,CAAC;EAC/D,MAAMO,UAAU,GAAGV,MAAM,CAACQ,wBAAwB,CAACL,EAAE,EAAE,OAAO,CAAC;EAC/D,SAASG,OAAOA,CAAA,EAAG;IACfV,eAAe,CAACO,EAAE,EAAE,MAAM,EAAEI,SAAS,CAAC;IACtCX,eAAe,CAACO,EAAE,EAAE,OAAO,EAAEM,UAAU,CAAC;IACxCb,eAAe,CAACO,EAAE,EAAE,OAAO,EAAEO,UAAU,CAAC;EAC5C;EACAP,EAAE,CAACT,SAAS,CAAC,GAAG;IACZY;EACJ,CAAC;EACDN,MAAM,CAACW,gBAAgB,CAACR,EAAE,EAAE;IACxBC,KAAK,EAAE;MACHQ,YAAY,EAAE,IAAI;MAClBC,GAAG,EAAEA,CAAA,KAAIT;IACb,CAAC;IACDU,KAAK,EAAE;MACHF,YAAY,EAAE,IAAI;MAClBC,GAAG,EAAEA,CAAA,KAAIT,KAAK,CAACW,MAAM,GAAI,iBAAgBX,KAAK,CAAC,CAAC,CAAC,CAACY,IAAK,EAAC,GAAG,EAAE;MAC7DC,GAAGA,CAAEC,CAAC,EAAE;QACJ,IAAIA,CAAC,KAAK,EAAE,EAAE;UACVZ,OAAO,CAAC,CAAC;QACb,CAAC,MAAM;UACH,IAAIa,eAAe;UACnBV,UAAU,KAAK,IAAI,IAAIA,UAAU,KAAK,KAAK,CAAC,GAAG,KAAK,CAAC,GAAG,CAACU,eAAe,GAAGV,UAAU,CAACQ,GAAG,MAAM,IAAI,IAAIE,eAAe,KAAK,KAAK,CAAC,GAAG,KAAK,CAAC,GAAGA,eAAe,CAACC,IAAI,CAACjB,EAAE,EAAEe,CAAC,CAAC;QAC5K;MACJ;IACJ,CAAC;IACDG,IAAI,EAAE;MACFT,YAAY,EAAE,IAAI;MAClBC,GAAG,EAAEA,CAAA,KAAI,MAAM;MACfI,GAAGA,CAAEC,CAAC,EAAE;QACJ,IAAIA,CAAC,KAAK,MAAM,EAAE;UACdZ,OAAO,CAAC,CAAC;UACTH,EAAE,CAACkB,IAAI,GAAGH,CAAC;QACf;MACJ;IACJ;EACJ,CAAC,CAAC;AACN;AAEA,SAAShB,QAAQ"},"metadata":{},"sourceType":"module","externalDependencies":[]}