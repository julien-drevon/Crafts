{"ast":null,"code":"import { getUISelection } from '../../document/UI.js';\nimport '../../utils/click/isClickableInput.js';\nimport '../../utils/dataTransfer/Clipboard.js';\nimport '../../utils/edit/isEditable.js';\nimport '../../utils/edit/maxLength.js';\nimport { getNextCursorPosition } from '../../utils/focus/cursor.js';\nimport '@testing-library/dom/dist/helpers.js';\nimport { hasOwnSelection } from '../../utils/focus/selection.js';\nimport '../../utils/keyDef/readNextDescriptor.js';\nimport '../../utils/misc/level.js';\nimport '../../options.js';\nimport { setSelection } from './setSelection.js';\n\n/**\n * Move the selection\n */\nfunction moveSelection(node, direction) {\n  // TODO: implement shift\n  if (hasOwnSelection(node)) {\n    const selection = getUISelection(node);\n    setSelection({\n      focusNode: node,\n      focusOffset: selection.startOffset === selection.endOffset ? selection.focusOffset + direction : direction < 0 ? selection.startOffset : selection.endOffset\n    });\n  } else {\n    const selection = node.ownerDocument.getSelection();\n    if (!(selection === null || selection === void 0 ? void 0 : selection.focusNode)) {\n      return;\n    }\n    if (selection.isCollapsed) {\n      const nextPosition = getNextCursorPosition(selection.focusNode, selection.focusOffset, direction);\n      if (nextPosition) {\n        setSelection({\n          focusNode: nextPosition.node,\n          focusOffset: nextPosition.offset\n        });\n      }\n    } else {\n      selection[direction < 0 ? 'collapseToStart' : 'collapseToEnd']();\n    }\n  }\n}\nexport { moveSelection };","map":{"version":3,"names":["getUISelection","getNextCursorPosition","hasOwnSelection","setSelection","moveSelection","node","direction","selection","focusNode","focusOffset","startOffset","endOffset","ownerDocument","getSelection","isCollapsed","nextPosition","offset"],"sources":["C:/Users/drevo/Documents/GitHub/Crafts/TypeScript/Storybook/node_modules/@testing-library/user-event/dist/esm/event/selection/moveSelection.js"],"sourcesContent":["import { getUISelection } from '../../document/UI.js';\nimport '../../utils/click/isClickableInput.js';\nimport '../../utils/dataTransfer/Clipboard.js';\nimport '../../utils/edit/isEditable.js';\nimport '../../utils/edit/maxLength.js';\nimport { getNextCursorPosition } from '../../utils/focus/cursor.js';\nimport '@testing-library/dom/dist/helpers.js';\nimport { hasOwnSelection } from '../../utils/focus/selection.js';\nimport '../../utils/keyDef/readNextDescriptor.js';\nimport '../../utils/misc/level.js';\nimport '../../options.js';\nimport { setSelection } from './setSelection.js';\n\n/**\n * Move the selection\n */ function moveSelection(node, direction) {\n    // TODO: implement shift\n    if (hasOwnSelection(node)) {\n        const selection = getUISelection(node);\n        setSelection({\n            focusNode: node,\n            focusOffset: selection.startOffset === selection.endOffset ? selection.focusOffset + direction : direction < 0 ? selection.startOffset : selection.endOffset\n        });\n    } else {\n        const selection = node.ownerDocument.getSelection();\n        if (!(selection === null || selection === void 0 ? void 0 : selection.focusNode)) {\n            return;\n        }\n        if (selection.isCollapsed) {\n            const nextPosition = getNextCursorPosition(selection.focusNode, selection.focusOffset, direction);\n            if (nextPosition) {\n                setSelection({\n                    focusNode: nextPosition.node,\n                    focusOffset: nextPosition.offset\n                });\n            }\n        } else {\n            selection[direction < 0 ? 'collapseToStart' : 'collapseToEnd']();\n        }\n    }\n}\n\nexport { moveSelection };\n"],"mappings":"AAAA,SAASA,cAAc,QAAQ,sBAAsB;AACrD,OAAO,uCAAuC;AAC9C,OAAO,uCAAuC;AAC9C,OAAO,gCAAgC;AACvC,OAAO,+BAA+B;AACtC,SAASC,qBAAqB,QAAQ,6BAA6B;AACnE,OAAO,sCAAsC;AAC7C,SAASC,eAAe,QAAQ,gCAAgC;AAChE,OAAO,0CAA0C;AACjD,OAAO,2BAA2B;AAClC,OAAO,kBAAkB;AACzB,SAASC,YAAY,QAAQ,mBAAmB;;AAEhD;AACA;AACA;AAAI,SAASC,aAAaA,CAACC,IAAI,EAAEC,SAAS,EAAE;EACxC;EACA,IAAIJ,eAAe,CAACG,IAAI,CAAC,EAAE;IACvB,MAAME,SAAS,GAAGP,cAAc,CAACK,IAAI,CAAC;IACtCF,YAAY,CAAC;MACTK,SAAS,EAAEH,IAAI;MACfI,WAAW,EAAEF,SAAS,CAACG,WAAW,KAAKH,SAAS,CAACI,SAAS,GAAGJ,SAAS,CAACE,WAAW,GAAGH,SAAS,GAAGA,SAAS,GAAG,CAAC,GAAGC,SAAS,CAACG,WAAW,GAAGH,SAAS,CAACI;IACvJ,CAAC,CAAC;EACN,CAAC,MAAM;IACH,MAAMJ,SAAS,GAAGF,IAAI,CAACO,aAAa,CAACC,YAAY,CAAC,CAAC;IACnD,IAAI,EAAEN,SAAS,KAAK,IAAI,IAAIA,SAAS,KAAK,KAAK,CAAC,GAAG,KAAK,CAAC,GAAGA,SAAS,CAACC,SAAS,CAAC,EAAE;MAC9E;IACJ;IACA,IAAID,SAAS,CAACO,WAAW,EAAE;MACvB,MAAMC,YAAY,GAAGd,qBAAqB,CAACM,SAAS,CAACC,SAAS,EAAED,SAAS,CAACE,WAAW,EAAEH,SAAS,CAAC;MACjG,IAAIS,YAAY,EAAE;QACdZ,YAAY,CAAC;UACTK,SAAS,EAAEO,YAAY,CAACV,IAAI;UAC5BI,WAAW,EAAEM,YAAY,CAACC;QAC9B,CAAC,CAAC;MACN;IACJ,CAAC,MAAM;MACHT,SAAS,CAACD,SAAS,GAAG,CAAC,GAAG,iBAAiB,GAAG,eAAe,CAAC,CAAC,CAAC;IACpE;EACJ;AACJ;AAEA,SAASF,aAAa"},"metadata":{},"sourceType":"module","externalDependencies":[]}