{"ast":null,"code":"import 'ts-dedent';\nimport { global } from '@storybook/global';\nimport { makeDecorator, addons } from '@storybook/preview-api';\nimport { STORY_CHANGED, SELECT_STORY } from '@storybook/core-events';\nimport '@storybook/csf';\nvar PARAM_KEY = \"links\";\nvar {\n  document,\n  HTMLElement\n} = global;\nvar navigate = params => addons.getChannel().emit(SELECT_STORY, params);\nvar linksListener = e => {\n    let {\n      target\n    } = e;\n    if (!(target instanceof HTMLElement)) return;\n    let element = target,\n      {\n        sbKind: kind,\n        sbStory: story\n      } = element.dataset;\n    (kind || story) && (e.preventDefault(), navigate({\n      kind,\n      story\n    }));\n  },\n  hasListener = !1,\n  on = () => {\n    hasListener || (hasListener = !0, document.addEventListener(\"click\", linksListener));\n  },\n  off = () => {\n    hasListener && (hasListener = !1, document.removeEventListener(\"click\", linksListener));\n  },\n  withLinks = makeDecorator({\n    name: \"withLinks\",\n    parameterName: PARAM_KEY,\n    wrapper: (getStory, context) => (on(), addons.getChannel().once(STORY_CHANGED, off), getStory(context))\n  });\nvar decorators = [withLinks];\nexport { decorators };","map":{"version":3,"names":["global","makeDecorator","addons","STORY_CHANGED","SELECT_STORY","PARAM_KEY","document","HTMLElement","navigate","params","getChannel","emit","linksListener","e","target","element","sbKind","kind","sbStory","story","dataset","preventDefault","hasListener","on","addEventListener","off","removeEventListener","withLinks","name","parameterName","wrapper","getStory","context","once","decorators"],"sources":["C:/Users/drevo/Documents/GitHub/Crafts/TypeScript/Storybook/node_modules/@storybook/addon-links/dist/preview.js"],"sourcesContent":["import 'ts-dedent';\nimport { global } from '@storybook/global';\nimport { makeDecorator, addons } from '@storybook/preview-api';\nimport { STORY_CHANGED, SELECT_STORY } from '@storybook/core-events';\nimport '@storybook/csf';\n\nvar PARAM_KEY=\"links\";var{document,HTMLElement}=global;var navigate=params=>addons.getChannel().emit(SELECT_STORY,params);var linksListener=e=>{let{target}=e;if(!(target instanceof HTMLElement))return;let element=target,{sbKind:kind,sbStory:story}=element.dataset;(kind||story)&&(e.preventDefault(),navigate({kind,story}));},hasListener=!1,on=()=>{hasListener||(hasListener=!0,document.addEventListener(\"click\",linksListener));},off=()=>{hasListener&&(hasListener=!1,document.removeEventListener(\"click\",linksListener));},withLinks=makeDecorator({name:\"withLinks\",parameterName:PARAM_KEY,wrapper:(getStory,context)=>(on(),addons.getChannel().once(STORY_CHANGED,off),getStory(context))});var decorators=[withLinks];\n\nexport { decorators };\n"],"mappings":"AAAA,OAAO,WAAW;AAClB,SAASA,MAAM,QAAQ,mBAAmB;AAC1C,SAASC,aAAa,EAAEC,MAAM,QAAQ,wBAAwB;AAC9D,SAASC,aAAa,EAAEC,YAAY,QAAQ,wBAAwB;AACpE,OAAO,gBAAgB;AAEvB,IAAIC,SAAS,GAAC,OAAO;AAAC,IAAG;EAACC,QAAQ;EAACC;AAAW,CAAC,GAACP,MAAM;AAAC,IAAIQ,QAAQ,GAACC,MAAM,IAAEP,MAAM,CAACQ,UAAU,CAAC,CAAC,CAACC,IAAI,CAACP,YAAY,EAACK,MAAM,CAAC;AAAC,IAAIG,aAAa,GAACC,CAAC,IAAE;IAAC,IAAG;MAACC;IAAM,CAAC,GAACD,CAAC;IAAC,IAAG,EAAEC,MAAM,YAAYP,WAAW,CAAC,EAAC;IAAO,IAAIQ,OAAO,GAACD,MAAM;MAAC;QAACE,MAAM,EAACC,IAAI;QAACC,OAAO,EAACC;MAAK,CAAC,GAACJ,OAAO,CAACK,OAAO;IAAC,CAACH,IAAI,IAAEE,KAAK,MAAIN,CAAC,CAACQ,cAAc,CAAC,CAAC,EAACb,QAAQ,CAAC;MAACS,IAAI;MAACE;IAAK,CAAC,CAAC,CAAC;EAAC,CAAC;EAACG,WAAW,GAAC,CAAC,CAAC;EAACC,EAAE,GAACA,CAAA,KAAI;IAACD,WAAW,KAAGA,WAAW,GAAC,CAAC,CAAC,EAAChB,QAAQ,CAACkB,gBAAgB,CAAC,OAAO,EAACZ,aAAa,CAAC,CAAC;EAAC,CAAC;EAACa,GAAG,GAACA,CAAA,KAAI;IAACH,WAAW,KAAGA,WAAW,GAAC,CAAC,CAAC,EAAChB,QAAQ,CAACoB,mBAAmB,CAAC,OAAO,EAACd,aAAa,CAAC,CAAC;EAAC,CAAC;EAACe,SAAS,GAAC1B,aAAa,CAAC;IAAC2B,IAAI,EAAC,WAAW;IAACC,aAAa,EAACxB,SAAS;IAACyB,OAAO,EAACA,CAACC,QAAQ,EAACC,OAAO,MAAIT,EAAE,CAAC,CAAC,EAACrB,MAAM,CAACQ,UAAU,CAAC,CAAC,CAACuB,IAAI,CAAC9B,aAAa,EAACsB,GAAG,CAAC,EAACM,QAAQ,CAACC,OAAO,CAAC;EAAC,CAAC,CAAC;AAAC,IAAIE,UAAU,GAAC,CAACP,SAAS,CAAC;AAEzsB,SAASO,UAAU"},"metadata":{},"sourceType":"module","externalDependencies":[]}