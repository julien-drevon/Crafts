{"ast":null,"code":"\"use strict\";\n\nvar _asyncToGenerator = require(\"C:/Users/drevo/Documents/GitHub/Crafts/TypeScript/Storybook/node_modules/@babel/runtime/helpers/asyncToGenerator.js\").default;\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.DocsRenderer = void 0;\nconst preview_api_1 = require(\"@storybook/preview-api\");\nconst core_events_1 = require(\"@storybook/core-events\");\nconst AbstractRenderer_1 = require(\"./AbstractRenderer\");\nclass DocsRenderer extends AbstractRenderer_1.AbstractRenderer {\n  render(options) {\n    var _superprop_getRender = () => super.render,\n      _this = this;\n    return _asyncToGenerator(function* () {\n      const channel = preview_api_1.addons.getChannel();\n      /**\n       * Destroy and recreate the PlatformBrowserDynamic of angular\n       * For several stories to be rendered in the same docs we should\n       * not destroy angular between each rendering but do it when the\n       * rendered stories are not needed anymore.\n       *\n       * Note for improvement: currently there is one event per story\n       * rendered in the doc. But one event could be enough for the whole docs\n       *\n       */\n      channel.once(core_events_1.STORY_CHANGED, /*#__PURE__*/_asyncToGenerator(function* () {\n        yield DocsRenderer.resetApplications();\n      }));\n      /**\n       * Destroy and recreate the PlatformBrowserDynamic of angular\n       * when doc re render. Allows to call ngOnDestroy of angular\n       * for previous component\n       */\n      channel.once(core_events_1.DOCS_RENDERED, /*#__PURE__*/_asyncToGenerator(function* () {\n        yield DocsRenderer.resetApplications();\n      }));\n      yield _superprop_getRender().call(_this, {\n        ...options,\n        forced: false\n      });\n    })();\n  }\n  beforeFullRender(domNode) {\n    return _asyncToGenerator(function* () {\n      DocsRenderer.resetApplications(domNode);\n    })();\n  }\n  afterFullRender() {\n    return _asyncToGenerator(function* () {\n      yield AbstractRenderer_1.AbstractRenderer.resetCompiledComponents();\n    })();\n  }\n}\nexports.DocsRenderer = DocsRenderer;","map":{"version":3,"names":["_asyncToGenerator","require","default","Object","defineProperty","exports","value","DocsRenderer","preview_api_1","core_events_1","AbstractRenderer_1","AbstractRenderer","render","options","_superprop_getRender","_this","channel","addons","getChannel","once","STORY_CHANGED","resetApplications","DOCS_RENDERED","call","forced","beforeFullRender","domNode","afterFullRender","resetCompiledComponents"],"sources":["C:/Users/drevo/Documents/GitHub/Crafts/TypeScript/Storybook/node_modules/@storybook/angular/dist/client/angular-beta/DocsRenderer.js"],"sourcesContent":["\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.DocsRenderer = void 0;\nconst preview_api_1 = require(\"@storybook/preview-api\");\nconst core_events_1 = require(\"@storybook/core-events\");\nconst AbstractRenderer_1 = require(\"./AbstractRenderer\");\nclass DocsRenderer extends AbstractRenderer_1.AbstractRenderer {\n    async render(options) {\n        const channel = preview_api_1.addons.getChannel();\n        /**\n         * Destroy and recreate the PlatformBrowserDynamic of angular\n         * For several stories to be rendered in the same docs we should\n         * not destroy angular between each rendering but do it when the\n         * rendered stories are not needed anymore.\n         *\n         * Note for improvement: currently there is one event per story\n         * rendered in the doc. But one event could be enough for the whole docs\n         *\n         */\n        channel.once(core_events_1.STORY_CHANGED, async () => {\n            await DocsRenderer.resetApplications();\n        });\n        /**\n         * Destroy and recreate the PlatformBrowserDynamic of angular\n         * when doc re render. Allows to call ngOnDestroy of angular\n         * for previous component\n         */\n        channel.once(core_events_1.DOCS_RENDERED, async () => {\n            await DocsRenderer.resetApplications();\n        });\n        await super.render({ ...options, forced: false });\n    }\n    async beforeFullRender(domNode) {\n        DocsRenderer.resetApplications(domNode);\n    }\n    async afterFullRender() {\n        await AbstractRenderer_1.AbstractRenderer.resetCompiledComponents();\n    }\n}\nexports.DocsRenderer = DocsRenderer;\n"],"mappings":"AAAA,YAAY;;AAAC,IAAAA,iBAAA,GAAAC,OAAA,wHAAAC,OAAA;AACbC,MAAM,CAACC,cAAc,CAACC,OAAO,EAAE,YAAY,EAAE;EAAEC,KAAK,EAAE;AAAK,CAAC,CAAC;AAC7DD,OAAO,CAACE,YAAY,GAAG,KAAK,CAAC;AAC7B,MAAMC,aAAa,GAAGP,OAAO,CAAC,wBAAwB,CAAC;AACvD,MAAMQ,aAAa,GAAGR,OAAO,CAAC,wBAAwB,CAAC;AACvD,MAAMS,kBAAkB,GAAGT,OAAO,CAAC,oBAAoB,CAAC;AACxD,MAAMM,YAAY,SAASG,kBAAkB,CAACC,gBAAgB,CAAC;EACrDC,MAAMA,CAACC,OAAO,EAAE;IAAA,IAAAC,oBAAA,GAAAA,CAAA,WAAAF,MAAA;MAAAG,KAAA;IAAA,OAAAf,iBAAA;MAClB,MAAMgB,OAAO,GAAGR,aAAa,CAACS,MAAM,CAACC,UAAU,CAAC,CAAC;MACjD;AACR;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;MACQF,OAAO,CAACG,IAAI,CAACV,aAAa,CAACW,aAAa,eAAApB,iBAAA,CAAE,aAAY;QAClD,MAAMO,YAAY,CAACc,iBAAiB,CAAC,CAAC;MAC1C,CAAC,EAAC;MACF;AACR;AACA;AACA;AACA;MACQL,OAAO,CAACG,IAAI,CAACV,aAAa,CAACa,aAAa,eAAAtB,iBAAA,CAAE,aAAY;QAClD,MAAMO,YAAY,CAACc,iBAAiB,CAAC,CAAC;MAC1C,CAAC,EAAC;MACF,MAAMP,oBAAA,GAAAS,IAAA,CAAAR,KAAA,EAAa;QAAE,GAAGF,OAAO;QAAEW,MAAM,EAAE;MAAM,CAAC,CAAC;IAAC;EACtD;EACMC,gBAAgBA,CAACC,OAAO,EAAE;IAAA,OAAA1B,iBAAA;MAC5BO,YAAY,CAACc,iBAAiB,CAACK,OAAO,CAAC;IAAC;EAC5C;EACMC,eAAeA,CAAA,EAAG;IAAA,OAAA3B,iBAAA;MACpB,MAAMU,kBAAkB,CAACC,gBAAgB,CAACiB,uBAAuB,CAAC,CAAC;IAAC;EACxE;AACJ;AACAvB,OAAO,CAACE,YAAY,GAAGA,YAAY"},"metadata":{},"sourceType":"script","externalDependencies":[]}